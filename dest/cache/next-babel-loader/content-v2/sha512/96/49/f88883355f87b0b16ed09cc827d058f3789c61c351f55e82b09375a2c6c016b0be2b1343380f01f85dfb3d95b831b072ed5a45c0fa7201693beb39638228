{"ast":null,"code":"import Repo from \"./Repo\";\nimport Link from \"next/link\";\nimport api from \"../lib/api\";\nimport { withRouter } from \"next/router\"; // 这样我们把键值对的形式映射成了一个字符串\n\nfunction makeQuery(queryObj) {\n  // 遍历这个 obj\n  const query = Object.entries(queryObj).reduce((result, entry) => {\n    result.push(entry.join(\"=\"));\n    return result;\n  }, []).join(\"&\");\n  return `?${query}`;\n}\n\nconst withRepoBasic = Comp => {\n  // function Detail({ repoBasic, router }) {\n  //     const query = makeQuery(router.query);\n  //     return (\n  //         <div className=\"root\">\n  //             <div className=\"repo-basic\">\n  //                 <Repo repo={repoBasic} />\n  //                 <div className=\"tabs\">\n  //                     <Link href={`/detail${query}`}>\n  //                         <a className=\"tab index\">Readme</a>\n  //                     </Link>\n  //                     <Link href={`/detail/issues${query}`}>\n  //                         <a className=\"tab issues\">Issues</a>\n  //                     </Link>\n  //                 </div>\n  //             </div>\n  //             <div><Comp /></div>\n  //             <style jsx>{`\n  //           .root {\n  //             padding-top: 20px;\n  //           }\n  //           .repo-basic {\n  //             padding: 20px;\n  //             border: 1px solid #eee;\n  //             margin-bottom: 20px;\n  //             border-radius: 5px;\n  //           }\n  //           .tab + .tab {\n  //             margin-left: 20px;\n  //           }\n  //         `}</style>\n  //         </div>\n  //     );\n  // }\n  // Detail.getInitialProps = async (ctx) => {\n  //     console.log(ctx.query);\n  //     const { owner, name } = ctx.query;\n  //     const repoBasic = await api.request(\n  //         { url: `/repos/${owner}/${name}` },\n  //         ctx.req,\n  //         ctx.res\n  //     );\n  //     return {\n  //         repoBasic: repoBasic.data,\n  //     };\n  // };\n  return Detail;\n};\n\nexport default withRouter(withRepoBasic);","map":{"version":3,"sources":["D:/lls/chenzhengquan/Desktop/muke-study/nextjs-create-app/components/with-repo-basic.jsx"],"names":["Repo","Link","api","withRouter","makeQuery","queryObj","query","Object","entries","reduce","result","entry","push","join","withRepoBasic","Comp","Detail"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,OAAOC,GAAP,MAAgB,YAAhB;AAEA,SAASC,UAAT,QAA2B,aAA3B,C,CAGA;;AACA,SAASC,SAAT,CAAmBC,QAAnB,EAA6B;AACzB;AACA,QAAMC,KAAK,GAAGC,MAAM,CAACC,OAAP,CAAeH,QAAf,EACTI,MADS,CACF,CAACC,MAAD,EAASC,KAAT,KAAmB;AACvBD,IAAAA,MAAM,CAACE,IAAP,CAAYD,KAAK,CAACE,IAAN,CAAW,GAAX,CAAZ;AACA,WAAOH,MAAP;AACH,GAJS,EAIP,EAJO,EAKTG,IALS,CAKJ,GALI,CAAd;AAMA,SAAQ,IAAGP,KAAM,EAAjB;AACH;;AAED,MAAMQ,aAAa,GAAIC,IAAD,IAAU;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAOC,MAAP;AACH,CA/CD;;AAkDA,eAAeb,UAAU,CAACW,aAAD,CAAzB","sourcesContent":["import Repo from \"./Repo\";\r\nimport Link from \"next/link\";\r\n\r\nimport api from \"../lib/api\";\r\n\r\nimport { withRouter } from \"next/router\";\r\n\r\n\r\n// 这样我们把键值对的形式映射成了一个字符串\r\nfunction makeQuery(queryObj) {\r\n    // 遍历这个 obj\r\n    const query = Object.entries(queryObj)\r\n        .reduce((result, entry) => {\r\n            result.push(entry.join(\"=\"));\r\n            return result;\r\n        }, [])\r\n        .join(\"&\");\r\n    return `?${query}`;\r\n}\r\n\r\nconst withRepoBasic = (Comp) => {\r\n    // function Detail({ repoBasic, router }) {\r\n    //     const query = makeQuery(router.query);\r\n    //     return (\r\n    //         <div className=\"root\">\r\n    //             <div className=\"repo-basic\">\r\n    //                 <Repo repo={repoBasic} />\r\n    //                 <div className=\"tabs\">\r\n    //                     <Link href={`/detail${query}`}>\r\n    //                         <a className=\"tab index\">Readme</a>\r\n    //                     </Link>\r\n    //                     <Link href={`/detail/issues${query}`}>\r\n    //                         <a className=\"tab issues\">Issues</a>\r\n    //                     </Link>\r\n    //                 </div>\r\n    //             </div>\r\n    //             <div><Comp /></div>\r\n    //             <style jsx>{`\r\n    //           .root {\r\n    //             padding-top: 20px;\r\n    //           }\r\n    //           .repo-basic {\r\n    //             padding: 20px;\r\n    //             border: 1px solid #eee;\r\n    //             margin-bottom: 20px;\r\n    //             border-radius: 5px;\r\n    //           }\r\n    //           .tab + .tab {\r\n    //             margin-left: 20px;\r\n    //           }\r\n    //         `}</style>\r\n    //         </div>\r\n    //     );\r\n    // }\r\n    // Detail.getInitialProps = async (ctx) => {\r\n    //     console.log(ctx.query);\r\n    //     const { owner, name } = ctx.query;\r\n    //     const repoBasic = await api.request(\r\n    //         { url: `/repos/${owner}/${name}` },\r\n    //         ctx.req,\r\n    //         ctx.res\r\n    //     );\r\n    //     return {\r\n    //         repoBasic: repoBasic.data,\r\n    //     };\r\n    // };\r\n    return Detail\r\n}\r\n\r\n\r\nexport default withRouter(withRepoBasic);"]},"metadata":{},"sourceType":"module"}